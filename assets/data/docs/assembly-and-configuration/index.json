{"hash":"b1aefabedeb77c89a4b9b75dd849d596115f4855","data":{"doc":{"id":"8c3f412b8ee9c18092716b08d7e7aff1","title":"Connecting sensors to robonomics network","headings":[{"value":"Connecting sensors to robonomics network"}],"subtitles":[{"depth":1,"value":"Connecting sensors to robonomics network","anchor":"#connecting-sensors-to-robonomics-network"},{"depth":2,"value":"Requiremets","anchor":"#requiremets"},{"depth":2,"value":"Assembly","anchor":"#assembly"},{"depth":3,"value":"Connection diagram","anchor":"#connection-diagram"},{"depth":3,"value":"Connecting SDS011","anchor":"#connecting-sds011"},{"depth":2,"value":"Device firmware","anchor":"#device-firmware"},{"depth":3,"value":"For Linux:","anchor":"#for-linux"},{"depth":3,"value":"For windows:","anchor":"#for-windows"},{"depth":2,"value":"Configuration","anchor":"#configuration"},{"depth":2,"value":"Results","anchor":"#results"}],"content":"# Connecting sensors to robonomics network\n## Requiremets\n* ESP8266 Node MCU v3\n* particle sensor SDS011\n* micro USB cable\n* connecting wires\n---\n## Assembly\n### Connection diagram\n\n![scheme](./images/sensors-connectivity/schema.jpg)\n\n### Connecting SDS011\n\n* Pin 1 (TX) -> (RX) Pin D1 (GPIO5)\n* Pin 2 (RX) -> (TX) Pin D2 (GPIO4)\n* Pin 3 (GND) -> GND\n* Pin 4 (2.5m) -> unused\n* Pin 5 (5V) -> VU\n* Pin 6 (1m) -> unused\n\nSensor is sold with USB adapter and connection wires. You don't need USB adapter, so disconnect wires from it.\n\n![disconnect](./images/sensors-connectivity/2_assembly_usb.jpg)\n\nYou may connect it to ESP via connecting wires \"Female-Male\":\n\n![f-m](./images/sensors-connectivity/3_conn.jpg)\n\nAnd connect them to your ESP according to the connection diagram.\n\nOr you can use wires from USB adapter. Disconnect one wire: push on it with some sharp object and carefully pull the wire:\n\n![extreme_con](./images/sensors-connectivity/4_assembly_wires.jpg)\n\nInsert it to last connector:\n\n![extr](./images/sensors-connectivity/5_wires1.jpg)\n\nThen cut connector in the middle:\n\n![cut](./images/sensors-connectivity/6_assembly_wires2.jpg)\n\nAnd connect them to ESP accoding to the connection diagram:\n\n![esp_con](./images/sensors-connectivity/6_esp_con.jpg)\n\n---\n## Device firmware\nDownload `airrohr-flasher` from the latest release for your OS. Releases you can find [here](https://github.com/airalab/sensors-connectivity/releases).\nConnect ESP to computer via micro-USB and run flasher. \n\n### For Linux:\nFirstly you need to get permission to USB port:\n```bash\nsudo usermod -a -G dialout $USER\n```\nThen restart computer.\n\nNow you can run flasher (don't forget to give it permission to execute):\n```bash\nchmod +x airrohr-flasher-linux\n./airrohr-flasher-linux\n```\n---\n### For windows:\nUnpack flasher and run it with double click.\n\n---\nChoose firmware (english or russian) and press upload. It will take a few minutes.\n\n![flasher](./images/sensors-connectivity/7_flasher.jpg)\n\n---\n## Configuration\nReboot your ESP (just reconnect USB to computer).\nThen connect to airRohr--xxxxxxx wi-fi network and in your browser write address 192.168.4.1:\n\n![menu](./images/sensors-connectivity/8_menu1.jpg)\n\nGo to Configuration and in Wi-Fi Settings add information about your wi-fi network:\n\n![config](./images/sensors-connectivity/9_W-fi.jpg)\n\nThen press \"Save configuration and restart\" and ESP will connect to your wi-fi.\n\n![save](./images/sensors-connectivity/10_save.jpg)\n\n---\nThen you need to find ESP in local network (for that your computer and ESP must be in one network). You can do it using airrohr-flasher. Run it and go to Discovery and press Refresh, then you'll be able to see the address.\n\n![addr](./images/sensors-connectivity/11_flaser2.jpg)\n\n---\n\nWrite in your browser ESP local address, go to Configuration and tick 'API Robonomics'. \n\n![robonomics](./images/sensors-connectivity/12_APIrobonomics.jpg)\n\nThen enable GPS and all sensors that you use and write your coordinates:\n\n![gps](./images/sensors-connectivity/13_gps.jpg)\n\nThen press \"Save configuration and restart\".\n\n---\n\n## Results\nGo to [sensors.robonomics.network](https://sensors.robonomics.network/#/), and you will see your sensor on the map.\n![map](./images/sensors-connectivity/14_map.jpg)\n"}},"context":{}}